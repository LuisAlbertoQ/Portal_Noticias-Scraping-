{% extends 'base_auth.html' %}
{% load static %}

{% block title %}Planes de Suscripción - NewsMiner{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/mainaccount.css' %}">
<div class="pricing-container">
    <h2 class="pricing-title">Elige tu plan ideal</h2>
    
    <div class="pricing-cards">
        <!-- Plan Normal -->
        <div class="pricing-card">
            <div class="pricing-header">
                <h3>Normal</h3>
                <div class="price">
                    <span class="currency">S/.</span>
                    <span class="amount">0</span>
                    <span class="period">/mes</span>
                </div>
            </div>
            <div class="pricing-features">
                <ul>
                    <li><i class="fas fa-check"></i> Acceso a noticias básicas</li>
                    <li><i class="fas fa-check"></i> Búsqueda limitada</li>
                    <li><i class="fas fa-times"></i> Sin acceso a scraping</li>
                    <li><i class="fas fa-times"></i> Sin filtros avanzados</li>
                </ul>
            </div>
            <div class="pricing-footer">
                <button class="btn btn-outline" disabled>Plan Actual</button>
            </div>
        </div>
        
        <!-- Plan Premium -->
        <div class="pricing-card featured">
            <div class="pricing-badge">Recomendado</div>
            <div class="pricing-header">
                <h3>Premium</h3>
                <div class="price">
                    <span class="currency">S/.</span>
                    <span class="amount">6.99</span>
                    <span class="period">/mes</span>
                </div>
            </div>
            <div class="pricing-features">
                <ul>
                    <li><i class="fas fa-check"></i> Acceso a todas las noticias</li>
                    <li><i class="fas fa-check"></i> Búsqueda ilimitada</li>
                    <li><i class="fas fa-check"></i> Acceso completo a scraping</li>
                    <li><i class="fas fa-check"></i> Filtros avanzados</li>
                    <li><i class="fas fa-check"></i> Soporte prioritario</li>
                </ul>
            </div>
            <div class="pricing-footer">
                <button class="btn btn-primary" onclick="showPaymentModal()">Actualizar a Premium</button>
            </div>
        </div>
    </div>
    
    <div class="pricing-faq">
        <h3>Preguntas Frecuentes</h3>
        <div class="faq-item">
            <h4>¿Puedo cancelar mi suscripción en cualquier momento?</h4>
            <p>Sí, puedes cancelar tu suscripción Premium en cualquier momento desde tu perfil de usuario.</p>
        </div>
        <div class="faq-item">
            <h4>¿Qué métodos de pago aceptan?</h4>
            <p>Aceptamos tarjetas de crédito, débito y PayPal.</p>
        </div>
        <div class="faq-item">
            <h4>¿Hay algún compromiso a largo plazo?</h4>
            <p>No, nuestra suscripción es mensual y puedes cancelarla cuando quieras sin penalizaciones.</p>
        </div>
    </div>
</div>

<!-- Modal de Pago -->
<div id="payment-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Actualizar a Premium</h3>
            <span class="close-modal">&times;</span>
        </div>
        <div class="modal-body">
            <div class="payment-summary">
                <div class="plan-summary">
                    <h4>Resumen del Plan</h4>
                    <div class="plan-item">
                        <span>Plan Premium</span>
                        <span>S/. 6.99/mes</span>
                    </div>
                    <div class="plan-total">
                        <span>Total</span>
                        <span>S/. 6.99</span>
                    </div>
                </div>
            </div>
            
            <form id="payment-form" method="post" action="{% url 'upgrade_premium' %}">
                {% csrf_token %}
                <div class="payment-methods">
                    <h4>Método de Pago</h4>
                    <div class="payment-method">
                        <input type="radio" id="credit-card" name="payment_method" value="credit_card" checked>
                        <label for="credit-card">
                            <i class="fas fa-credit-card"></i> Tarjeta de Crédito/Débito
                        </label>
                    </div>
                    <div class="payment-method">
                        <input type="radio" id="paypal" name="payment_method" value="paypal">
                        <label for="paypal">
                            <i class="fab fa-paypal"></i> PayPal
                        </label>
                    </div>
                </div>
                
                <div class="card-details">
                    <h4>Detalles de la Tarjeta</h4>
                    <div class="form-group">
                        <label for="card-number">Número de Tarjeta</label>
                        <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="card-expiry">Fecha de Vencimiento</label>
                            <input type="text" id="card-expiry" placeholder="MM/AA" maxlength="5">
                        </div>
                        <div class="form-group">
                            <label for="card-cvc">CVC</label>
                            <input type="text" id="card-cvc" placeholder="123" maxlength="3">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="card-name">Nombre en la Tarjeta</label>
                        <input type="text" id="card-name" placeholder="John Doe">
                    </div>
                </div>
                
                <div class="payment-actions">
                    <button type="button" class="btn btn-outline" onclick="closePaymentModal()">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Pagar S/. 6.99</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="{% static 'js/planes.js' %}"></script>
{% endblock %}